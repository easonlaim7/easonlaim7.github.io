<!doctype html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Eason 的物理小專題</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <!-- 下列兩行是官方範例本來的樣式檔 -->
        <link type="text/css" href="https://www.glowscript.org/css/redmond/2.1/jquery-ui.custom.css" rel="stylesheet" />
        <link type="text/css" href="https://www.glowscript.org/css/ide.css" rel="stylesheet" />
    </head>
    <body>
        <div class="container">
            <h1 class="text-center text-primary">Eason 的物理小專題</h1>
            <div class="row">
                <div class="col-lg-10">
                    <h2>使用說明</h2>
                    <!-- glowscript: 官方範例本來的元素 -->
                    <div id="glowscript" class="glowscript"></div>
                </div>
                <div class="col-lg-2">
                    <h2>參數設定</h2>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <!-- 下列開始到最後的</script>，是官方範例的程式檔 -->
        <script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery-ui.custom.min.js"></script>
        <script type="text/javascript" src="https://www.glowscript.org/package/glow.3.2.min.js"></script>
        <script type="text/javascript">

        $(function() {
            async function __main__() {
                "use strict";
                var version = ["3.2", "glowscript"];
                Array.prototype.toString = function() { return __parsearray(this) };
                var scene = canvas();
                
                // Simulation of dancing pendulums.  
                
                // Run the program and follow the link to the video for more explanation. */
                
                // David Scherer, August 2011
                
                function display_instructions() {
                    var s = "In GlowScript programs:\n"
                    s=s["+"]("    Rotate the camera by dragging with the right mouse button,\n        or hold down the Ctrl key and drag.\n")
                    s=s["+"]("    To zoom, drag with the left+right mouse buttons,\n         or hold down the Alt/Option key and drag,\n         or use the mouse wheel.\n")
                    s=s["+"]("Touch screen: pinch/extend to zoom, swipe or two-finger rotate.")
                    scene.title = s
                }
                
                display_instructions()
                
                var pendulums = []
                // floor done

                var floor = box()    
                floor.color = vec(.2,.7,.91)
                floor.pos = vec(0,0,0["-u"]())
                floor.axis = vec(1,0,1)
                floor.size = vec(10,1,60)
                scene.forward = vec(1["-u"](),0.2["-u"](),1["-u"]())
                scene.range = 22

                // ball editing

                var p = sphere()
                p.theta0 = 0["-u"]()
                p.size = 1["*"](vec(1,1,1))
                p.pos = vec(-21,1,-21["-u"]())
                p.color = color.hsv_to_rgb(vec(i["/"](20), 0.6, 0.8))
                // p.wire = cylinder()
                // p.wire.color = p.color
                // p.wire.pos = hinge.pos["+"](vec(0,0,i["+"](.5))["*"](hinge.size.x)["/"](15))
                // p.wire.size = vec(15["*"](p.period)["*"](p.period), .1, .1)
                // p.wire.length = p.wire.size.x
                pendulums.push(p)
    
                // not done yet

                var start = clock()
                while (true) {
                    var t = clock()["-"](start)
                    scene.caption = "t="["+"](t.toFixed(1))
                    for(var i=0; i["<"](pendulums.length); i++) {
                        var p = pendulums[i]
                        var theta = p.theta0["*"](cos( 2["*"](pi)["*"](t)["/"](p.period) ))
                        p.wire.axis = p.wire.length["*"](vec(sin(theta),cos(theta)["-u"](),0))
                        p.pos = p.wire.pos["+"](p.wire.axis)
                    }
                    await scene.waitfor("redraw")
                }
            }
            $(function(){ window.__context = { glowscript_container: $("#glowscript").removeAttr("id") }; __main__() })})()
        </script>
    </body>
</html>






